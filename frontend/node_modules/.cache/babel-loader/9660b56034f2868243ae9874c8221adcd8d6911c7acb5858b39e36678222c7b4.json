{"ast":null,"code":"import React from'react';import{BrowserRouter,Routes,Route,Navigate}from'react-router-dom';// Pages\nimport LandingPage from'./pages/LandingPage';import RegistrationPage from'./pages/RegistrationPage';import ContestPage from'./pages/ContestPage';import AdminLogin from'./pages/AdminLogin';import AdminDashboard from'./pages/AdminDashboard';/* ══════════════════════════════════════════════════════════\n   PROTECTED ROUTE - Redirects to login if not authenticated\n   ══════════════════════════════════════════════════════════ */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProtectedRoute(_ref){let{children}=_ref;const token=sessionStorage.getItem('adminToken');console.log('[ProtectedRoute] Checking auth...',{hasToken:!!token,tokenPreview:token?\"\".concat(token.substring(0,20),\"...\"):'null'});if(!token){console.log('[ProtectedRoute] No token found, redirecting to /admin');return/*#__PURE__*/_jsx(Navigate,{to:\"/admin\",replace:true});}console.log('[ProtectedRoute] Token found, rendering dashboard');return children;}/* ══════════════════════════════════════════════════════════\n   ADMIN ROUTE - Redirects to dashboard if already authenticated\n   ══════════════════════════════════════════════════════════ */function AdminRoute(_ref2){let{children}=_ref2;const token=sessionStorage.getItem('adminToken');console.log('[AdminRoute] Checking auth...',{hasToken:!!token,tokenPreview:token?\"\".concat(token.substring(0,20),\"...\"):'null'});if(token){console.log('[AdminRoute] Token found, redirecting to /admin/dashboard');return/*#__PURE__*/_jsx(Navigate,{to:\"/admin/dashboard\",replace:true});}console.log('[AdminRoute] No token, showing login page');return children;}function App(){return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LandingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegistrationPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contest\",element:/*#__PURE__*/_jsx(ContestPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminLogin,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})});}export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}